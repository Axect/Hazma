
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>RAMBO (hazma.rambo) &#8212; Hazma 2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Decay (hazma.decay)" href="decay/decay.html" />
    <link rel="prev" title="Gamma Ray Spectra Generator (hazma.gamma_ray)" href="gamma_ray/gamma_ray.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="rambo-hazma-rambo">
<h1>RAMBO (hazma.rambo)<a class="headerlink" href="#rambo-hazma-rambo" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Author - Logan A. Morrison and Adam Coogan</li>
<li>Date - December 2017</li>
</ul>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Computing annihilation
cross sections</td>
<td><a class="reference internal" href="rambo/annihilation_cross_section.html#annihilation-cross-section"><span class="std std-ref">hazma.rambo.compute_annihilation_cross_section</span></a></td>
</tr>
<tr class="row-even"><td>Computing decay
widths</td>
<td><a class="reference internal" href="rambo/decay_width.html#decay-width"><span class="std std-ref">hazma.rambo.compute_decay_width</span></a></td>
</tr>
<tr class="row-odd"><td>Computing energy
histograms</td>
<td><a class="reference internal" href="rambo/energy_histogram.html#energy-histogram"><span class="std std-ref">hazma.rambo.generate_energy_histogram</span></a></td>
</tr>
<tr class="row-even"><td>Computing a single
relativistic phase
space point</td>
<td><a class="reference internal" href="rambo/phase_space_point.html#phase-space-point"><span class="std std-ref">hazma.rambo.generate_phase_space_point</span></a></td>
</tr>
<tr class="row-odd"><td>Computing many
relativistic phase
space points</td>
<td><a class="reference internal" href="rambo/phase_space.html#phase-space"><span class="std std-ref">hazma.rambo.generate_phase_space</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Sub-package for generating phases space points and computing phase space
integrals using a Monte Carlo algorithm called RAMBO. This algorithm was
originally implemented by [1].</p>
<p>This algorithm starts by generating random, massless four-momenta <span class="math">\(q_{i}\)</span>
with energies distributed according to <span class="math">\(q_{0}\exp(-q_{0})\)</span>. These
<span class="math">\(q_{i}\)</span>‘s are then transformed into <span class="math">\(p_{i}\)</span>‘s by boosting the
<span class="math">\(q_{i}\)</span>‘s into the center-of-mass frame so that
<span class="math">\(\sum_{i}p_{i}^{\mu} = (E_{\text{CM}}, 0, 0, 0)\)</span>. Lastly, the
<span class="math">\(p_{i}\)</span>‘s are rescaled into <span class="math">\(k_{i}\)</span>‘s so that the <span class="math">\(k_{i}\)</span>‘s
give the correct masses.</p>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<p>The RAMBO algorithm can be broken up into four steps:</p>
<ul class="simple">
<li>Randomly generate <span class="math">\(n\)</span> massless four-momenta: <span class="math">\(\{q_{i}\}\)</span>.</li>
<li>Boost the set <span class="math">\(\{q_{i}\}\)</span> into <span class="math">\(\{p_{i}\}\)</span>.</li>
<li>Transform the set <span class="math">\(\{p_{i}\}\)</span> into <span class="math">\(\{k_{i}\}\)</span>.</li>
<li>Compute the weight of the phase space point.</li>
</ul>
<p>Repeating these steps many times will generate the phase space.</p>
<div class="section" id="generating-the">
<h3>Generating the <span class="math">\(\{q_{i}\}\)</span><a class="headerlink" href="#generating-the" title="Permalink to this headline">¶</a></h3>
<p>The first step is to generate the set <span class="math">\(\{q_{i}\}\)</span>, where
<span class="math">\(i\in\{1,\dots,n\}\)</span> and <span class="math">\(n\)</span> is the number of final state particles.
The <span class="math">\(q_{i}\)</span>‘s will have energies distributed according to
<span class="math">\(q_{0}\exp(-q_{0})\)</span> and will be massless. Additionally, the
<span class="math">\(q_{i}\)</span>‘s will be unphysical, i.e. will not have the correct
center-of-mass energy. To generate the <span class="math">\(\{q_{i}\}\)</span>, we first compute
<span class="math">\(4n\)</span> uniform random numbers, <span class="math">\(\rho_{1}^{i}, \rho_{2}^{i},
\rho_{3}^{i}, \rho_{4}^{i}\)</span>, on the interval <span class="math">\((0,1)\)</span>. Then, we compute
the following:</p>
<div class="math">
\[c^{i} = 2\rho_{1}^{i} - 1.0 \qquad \phi^{i} = 2\pi\rho_{2}^{i}\]</div>
<p>Then, the components of <span class="math">\(q_{i}\)</span> will be:</p>
<div class="math">
\[\begin{split}q_{i}^{0} = -\log(\rho_{3}\rho_{4})\\
q_{i}^{x} = q_{i}^{0}\sqrt{1-\left(c^{i}\right)^2}\cos\phi^{i}\\
q_{i}^{y} = q_{i}^{0}\sqrt{1-\left(c^{i}\right)^2}\sin\phi^{i}\\
q_{i}^{z} = q_{i}^{0}c^{i}\end{split}\]</div>
</div>
<div class="section" id="id1">
<h3>Generating the <span class="math">\(\{p_{i}\}\)</span><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Next, the <span class="math">\(\{q_{i}\}\)</span>‘s need to be boosted to generate the
<span class="math">\(\{p_{i}\}\)</span>‘s. This is done using the following:</p>
<div class="math">
\[\begin{split}p_{i}^{0} = x(\gamma q_{i}^{0} + \vec{b}\cdot\vec{q}_{i})\\
\vec{p}_{i} = x\left(\vec{q}_{i}^{0} + q_{i}^{0}\vec{b} +
a\left(\vec{b}\cdot\vec{q}_{i}\right)\vec{b}\right)\end{split}\]</div>
<p>where</p>
<div class="math">
\[\vec{b} = -\vec{Q} / M, \quad x = E_{\text{CM}} / M, \quad a =
\dfrac{1}{1+\gamma}\]</div>
<p>Here, <span class="math">\(Q\)</span> is a four-vector equal to the sum of the <span class="math">\(q_{i}\)</span>‘s,
<span class="math">\(M = \sqrt{Q^2}\)</span> and <span class="math">\(\gamma = Q^{0}/M\)</span> is the relativistic boost
factor.</p>
</div>
<div class="section" id="id2">
<h3>Generating the <span class="math">\(\{k_{i}\}\)</span><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>At this point, we have the <span class="math">\(\{p_{i}\}\)</span>‘s, which are four-momenta with the
correct center of mass energy, but which are still massless. Our next, step is
to transform the <span class="math">\(\{p_{i}\}\)</span>‘s into <span class="math">\(\{k_{i}\}\)</span>‘s, which have the
correct masses.</p>
<p>In order to get the correct masses, we need to rescale the <span class="math">\(\{p_{i}\}\)</span>‘s.
This is done as follows:</p>
<div class="math">
\[\begin{split}\vec{k}_{i} = \xi\vec{p}_{i}\\
k_{i}^{0} = \sqrt{m_{i}^2 + \xi^2 \left(p_{i}^0\right)^2}\end{split}\]</div>
<p>where <span class="math">\(\xi\)</span> is the scaling factor. To compute the scaling factor, we
require that the sum of the <span class="math">\(k_{i}^{0}\)</span>‘s gives the correct
center-of-mass energy. That is, that <span class="math">\(\xi\)</span> satisfies:</p>
<div class="math">
\[E_{\text{CM}} = \sum_{i=1}^{n}\sqrt{m_{i}^2 + \xi^2 \left(p_{i}^0\right)^2}\]</div>
<p>Thus, to compute the <span class="math">\(\{k_{i}\}\)</span>‘s, we solve for <span class="math">\(\xi\)</span> an then
rescale the <span class="math">\(\{p_{i}\}\)</span>‘s according to the above transformations.</p>
</div>
<div class="section" id="compute-the-phase-space-weight">
<h3>Compute the phase space weight<a class="headerlink" href="#compute-the-phase-space-weight" title="Permalink to this headline">¶</a></h3>
<p>The last step is to compute the phase space weight. The weights are such that,
when summing over all phase space points, weighted by the weights, we get the
correct phase space volume. The phase space weight is given by</p>
<div class="math">
\[W = E_{\text{CM}}^{2n-3}
\left(\sum_{i=1}^{n}|\vec{k}_{i}|\right)^{2n-3}
\left(\prod_{i=1}^{n}\dfrac{|\vec{k_{i}}|}{k_{i}^{0}}\right)
\left(\sum_{i=1}^{n}\dfrac{|\vec{k}_{i}|^{2}}{k_{i}^{0}}\right)^{-1}
\dfrac{(\pi/2)^{n-1}(2\pi)^{4 - 3n}}{\Gamma(n)\Gamma(n-1)}\]</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="gamma_ray/gamma_ray.html" title="previous chapter">Gamma Ray Spectra Generator (hazma.gamma_ray)</a></li>
      <li>Next: <a href="decay/decay.html" title="next chapter">Decay (hazma.decay)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Logan A. Morrison and Adam Coogan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/rambo.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>